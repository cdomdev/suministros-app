import{j as e}from"./jsx-runtime.D5qyYPMi.js";import{r as a}from"./index.CZlPm10g.js";import{e as x}from"./carritoChanged.BvOmNrgN.js";import{T as w}from"./Toast.ClEPDOpx.js";import{a as N,f as b}from"./calcularDescuento.CXg88ned.js";import{c as k}from"./calcularSubTotal.CS-5btoS.js";/* empty css                                    */const M=({producto:s,productos:r,setProductos:t})=>{const[h,o]=a.useState(""),[m,n]=a.useState(!1),[j,i]=a.useState(""),p=l=>{const c=r.filter(v=>v.id!==l);localStorage.setItem("carrito",JSON.stringify(c)),t(c),x&&x.emit("carritoChanged")},f=l=>{o("Se eliminÃ³ un producto del carrito"),i("toast-success"),n(!0),window.location.reload(),p(l.id),setTimeout(()=>{n(!1)},3e3)},g=s.discount&&s.discount>0?N(s.valor,s.discount):b(s.valor),u=k(s);return e.jsxs("div",{className:"border py-2",children:[e.jsx(w,{showToast:m,setShowToast:n,toastMessage:h,setToastMessage:o,bgToast:j,setBgToast:i}),e.jsxs("div",{className:"flex justify-between px-6 py-2 items-center",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("img",{src:s.image,alt:s.nombre,loading:"lazy",className:"size-20"}),e.jsxs("div",{className:"flex-col flex ",children:[e.jsxs("span",{className:"text-balance text-xs md:text-sm flex-col flex ",children:[e.jsx("strong",{children:"Producto: "}),s.nombre]}),e.jsxs("span",{className:"text-balance text-xs md:text-sm",children:[e.jsx("strong",{children:"REF: "}),s.referencia]}),e.jsxs("span",{className:"text-balance text-xs md:text-sm ",children:[e.jsx("strong",{children:"Cantidad: "}),s.quantity]}),e.jsx("span",{className:"text-balance text-xs md:text-sm flex gap-1 ",children:s.discount?e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Descuento: "}),e.jsxs("p",{className:"text-red-600 text-sm",children:[s.discount,"%"]})]}):e.jsx(e.Fragment,{})})]})]}),e.jsxs("div",{className:"flex",children:[e.jsx("button",{onClick:()=>f(s),className:"hover:text-red-700 text-xs md:text-sm",children:"Eliminar"}),e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-trash-x size-6",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ff2825",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M4 7h16"}),e.jsx("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),e.jsx("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"}),e.jsx("path",{d:"M10 12l4 4m0 -4l-4 4"})]})]})]}),e.jsx("hr",{className:"w-[90%] m-auto"}),e.jsxs("div",{className:"w-full flex justify-end pr-10 gap-3 items-center mt-2",children:[e.jsxs("span",{className:"flex gap-2 items-center text-xs md:text-sm",children:["Valor unidad:",e.jsxs("strong",{children:["$: ",g]})]}),e.jsxs("span",{className:"flex gap-2 text-xs md:text-sm",children:["Subtotal:",e.jsxs("strong",{children:["$: ",u]})]})]})]})},d=()=>e.jsxs("div",{className:"flex flex-col items-center justify-center py-6 gap-3",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-shopping-cart-question size-10 stroke-slate-500",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M4 19a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"}),e.jsx("path",{d:"M13.5 17h-7.5v-14h-2"}),e.jsx("path",{d:"M6 5l14 1l-.714 5m-4.786 2h-8.5"}),e.jsx("path",{d:"M19 22v.01"}),e.jsx("path",{d:"M19 19a2.003 2.003 0 0 0 .914 -3.782a1.98 1.98 0 0 0 -2.414 .483"})]}),e.jsx("span",{className:"flex flex-col items-center text-gray-700 text-sm md:text-lg",children:"Tu carrito esta vacio..."})]}),F=()=>{const[s,r]=a.useState([]);return a.useEffect(()=>{const t=JSON.parse(localStorage.getItem("carrito")||"[]");r(t)},[]),e.jsx(e.Fragment,{children:s?e.jsxs("div",{className:"flex flex-col gap-2 overflow-y-auto max-h-96",children:[s.length>0?s.map(t=>e.jsx(M,{producto:t,productos:s,setProductos:r},t.id)):e.jsx(d,{}),e.jsxs("a",{href:"/categoria/pisos-y-paredes",className:"bg-[#f4f4f4] text-sm btn-add-more-products  hover:bg-blue-600 hover:text-white hover:stroke-white duration-200 w-full md:max-w-[40%] mx-auto shadow-md cursor-pointer py-2 my-3 px-4 rounded-3xl flex items-center justify-center hover:shadow-none",children:[s&&s.length>0?"Continuar comprando":"Agregar productos al carrito",e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-shopping-cart-plus size-5 stroke-black hover:stroke-white",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M4 19a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"}),e.jsx("path",{d:"M12.5 17h-6.5v-14h-2"}),e.jsx("path",{d:"M6 5l14 1l-.86 6.017m-2.64 .983h-10.5"}),e.jsx("path",{d:"M16 19h6"}),e.jsx("path",{d:"M19 16v6"})]})]})]}):e.jsx(d,{})})};export{F as default};
