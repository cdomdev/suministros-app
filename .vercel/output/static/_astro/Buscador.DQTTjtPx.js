import{j as e}from"./jsx-runtime.D5qyYPMi.js";import{r as o}from"./index.CZlPm10g.js";import{a as n}from"./axios.C8DqakIB.js";import{Localitation as d}from"./Localitation.BmicJHCQ.js";import{S as c}from"./Spinner.Bod7GEZV.js";import"./user.DdtgaRYH.js";import"./ThemeProvider.C_HRE9zQ.js";const h=()=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-building-store w-6 h-6 stroke-gray-400",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M3 21l18 0"}),e.jsx("path",{d:"M3 7v1a3 3 0 0 0 6 0v-1m0 1a3 3 0 0 0 6 0v-1m0 1a3 3 0 0 0 6 0v-1h-18l2 -4h14l2 4"}),e.jsx("path",{d:"M5 21l0 -10.15"}),e.jsx("path",{d:"M19 21l0 -10.15"}),e.jsx("path",{d:"M9 21v-4a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v4"})]}),m=()=>e.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})}),p="http://localhost:3000",x=async r=>{try{return await n.post(`${p}/busqueda-productos`,{query:r})}catch(t){throw t}},y=()=>{const[r,t]=o.useState(""),[l,a]=o.useState(!1),i=async()=>{if(!r)return null;a(!0);try{const s=await x(r);s.status===200&&(sessionStorage.setItem("resultado-busqueda",JSON.stringify(s.data.resultados)),window.location.href=`/resultado-busqueda/${r}`,a(!1))}catch(s){if(n.isAxiosError(s)&&s.response){const{status:u}=s.response;u===404&&(sessionStorage.removeItem("resultado-busqueda"),window.location.href=`/resultado-busqueda/${r}`,a(!1))}}finally{a(!1)}};return e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("form",{className:"flex items-center w-full ld:w-4/5 lg:mx-auto font-font-cust-2",children:[e.jsx("label",{htmlFor:"simple-search",className:"sr-only",children:"Search"}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:e.jsx(h,{})}),e.jsx("input",{type:"search",value:r,onChange:s=>t(s.target.value),id:"simple-search",className:"bg-gray-50 border border-gray-300 text-gray-900 text-[10px] lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Buscas algun producto en especial...",required:!0})]}),e.jsx("button",{type:"submit",onClick:i,className:"p-2.5 ms-2 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:l?e.jsx(c,{animation:"border",size:"sm",variant:"primary"}):e.jsxs(e.Fragment,{children:[e.jsx(m,{}),e.jsx("span",{className:"sr-only",children:"Search"})]})})]}),e.jsx(d,{})]})};export{y as default};
