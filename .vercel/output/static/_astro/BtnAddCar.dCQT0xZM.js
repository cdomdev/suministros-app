import{j as e}from"./jsx-runtime.D5qyYPMi.js";import{r as o}from"./index.CZlPm10g.js";import{T as w}from"./Toast.ClEPDOpx.js";import{e as h}from"./carritoChanged.BvOmNrgN.js";const T=({producto:p})=>{const[s,n]=o.useState(1),[u,c]=o.useState(""),[x,a]=o.useState(!1),[m,l]=o.useState(""),g=()=>{n(t=>t+1)},j=()=>{s>1&&n(t=>t-1)},b=(t,d)=>{let r=JSON.parse(localStorage.getItem("carrito")||"[]");const i=r.find(v=>v.id===t.id);i?i.quantity=(i.quantity||0)+d:r.push({...t,quantity:d}),localStorage.setItem("carrito",JSON.stringify(r)),h&&h.emit("carritoChanged")},f=()=>{b(p,s),c(`Se agregaron ${s} productos al carrito`),l("toast-success"),a(!0),n(1),setTimeout(()=>{a(!1)},3e3)};return e.jsxs(e.Fragment,{children:[e.jsx(w,{showToast:x,setShowToast:a,toastMessage:u,setToastMessage:c,bgToast:m,setBgToast:l}),e.jsxs("div",{className:"border flex justify-center items-center px-2  ",children:[e.jsx("button",{className:"decrement",onClick:j,children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-shopping-cart-minus size-5 hover:scale-125 duration-200",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M4 19a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"}),e.jsx("path",{d:"M12.5 17h-6.5v-14h-2"}),e.jsx("path",{d:"M6 5l14 1l-1 7h-13"}),e.jsx("path",{d:"M16 19h6"})]})}),e.jsx("input",{type:"number",className:`border-none focus:border-transparent focus:outline-none appearance-none\r
             [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none\r
             [&::-moz-appearance]:textfield m-0 text-center w-[40px] font-bold text-lg`,min:"1",max:"100",step:"1",value:s,onChange:t=>n(parseInt(t.target.value))}),e.jsx("button",{className:"increment",onClick:g,children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-shopping-cart-plus size-5 hover:scale-125 duration-200",width:"44",height:"44",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#2c3e50",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M4 19a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"}),e.jsx("path",{d:"M12.5 17h-6.5v-14h-2"}),e.jsx("path",{d:"M6 5l14 1l-.86 6.017m-2.64 .983h-10.5"}),e.jsx("path",{d:"M16 19h6"}),e.jsx("path",{d:"M19 16v6"})]})})]}),e.jsx("button",{onClick:()=>f(),className:"bg-blue-600 px-3 py-2 text-white rounded-sm hover:bg-blue-500 duration-200",children:"Agregar al carrito"})]})};export{T as BtnAddCar};
